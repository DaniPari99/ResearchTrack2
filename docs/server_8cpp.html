<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Final assignment: src/server.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Final assignment
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">ROS package for the final assignment</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">server.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>server for the execution of the three modalities  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;ros/ros.h&quot;</code><br />
<code>#include &quot;sensor_msgs/LaserScan.h&quot;</code><br />
<code>#include &quot;geometry_msgs/Twist.h&quot;</code><br />
<code>#include &quot;final_assignment/User.h&quot;</code><br />
<code>#include &quot;std_srvs/Empty.h&quot;</code><br />
<code>#include &quot;move_base_msgs/MoveBaseActionGoal.h&quot;</code><br />
<code>#include &quot;actionlib_msgs/GoalID.h&quot;</code><br />
<code>#include &quot;move_base_msgs/MoveBaseActionFeedback.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for server.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="server_8cpp__incl.png" border="0" usemap="#src_2server_8cpp" alt=""/></div>
<map name="src_2server_8cpp" id="src_2server_8cpp">
<area shape="rect" title="server for the execution of the three modalities" alt="" coords="645,5,759,32"/>
<area shape="rect" title=" " alt="" coords="5,87,84,114"/>
<area shape="rect" title=" " alt="" coords="109,87,298,114"/>
<area shape="rect" title=" " alt="" coords="322,87,498,114"/>
<area shape="rect" title=" " alt="" coords="523,87,703,114"/>
<area shape="rect" title=" " alt="" coords="727,87,859,114"/>
<area shape="rect" title=" " alt="" coords="883,80,1135,121"/>
<area shape="rect" title=" " alt="" coords="1159,87,1339,114"/>
<area shape="rect" title=" " alt="" coords="1363,80,1615,121"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a89af502f8ca39b50fa3cbaf42cff4db4"><td class="memItemLeft" align="right" valign="top"><a id="a89af502f8ca39b50fa3cbaf42cff4db4"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8cpp.html#a89af502f8ca39b50fa3cbaf42cff4db4">DTH</a>&#160;&#160;&#160;1</td></tr>
<tr class="memdesc:a89af502f8ca39b50fa3cbaf42cff4db4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Macro-definition for the threshold distance. <br /></td></tr>
<tr class="separator:a89af502f8ca39b50fa3cbaf42cff4db4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3b6355f7d65a4b276c5bfc9ab35d709"><td class="memItemLeft" align="right" valign="top"><a id="ad3b6355f7d65a4b276c5bfc9ab35d709"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8cpp.html#ad3b6355f7d65a4b276c5bfc9ab35d709">GOAL_TH</a>&#160;&#160;&#160;0.5</td></tr>
<tr class="memdesc:ad3b6355f7d65a4b276c5bfc9ab35d709"><td class="mdescLeft">&#160;</td><td class="mdescRight">Macro-definition for the goal threshold. <br /></td></tr>
<tr class="separator:ad3b6355f7d65a4b276c5bfc9ab35d709"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a951b87d8cfc4da25e89b3492508bfe24"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8cpp.html#a951b87d8cfc4da25e89b3492508bfe24">cancelGoal</a> ()</td></tr>
<tr class="memdesc:a951b87d8cfc4da25e89b3492508bfe24"><td class="mdescLeft">&#160;</td><td class="mdescRight">function to cancell a goal if it is reached  <a href="server_8cpp.html#a951b87d8cfc4da25e89b3492508bfe24">More...</a><br /></td></tr>
<tr class="separator:a951b87d8cfc4da25e89b3492508bfe24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1422f0d741942044a0f4fde5993d85e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8cpp.html#ab1422f0d741942044a0f4fde5993d85e">currentPositionCallback</a> (const move_base_msgs::MoveBaseActionFeedback::ConstPtr &amp;msg)</td></tr>
<tr class="memdesc:ab1422f0d741942044a0f4fde5993d85e"><td class="mdescLeft">&#160;</td><td class="mdescRight">function to compute the distance from the goal  <a href="server_8cpp.html#ab1422f0d741942044a0f4fde5993d85e">More...</a><br /></td></tr>
<tr class="separator:ab1422f0d741942044a0f4fde5993d85e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b72b8027af553a6888634292a511716"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8cpp.html#a7b72b8027af553a6888634292a511716">getVelCallback</a> (const geometry_msgs::Twist::ConstPtr &amp;msg)</td></tr>
<tr class="memdesc:a7b72b8027af553a6888634292a511716"><td class="mdescLeft">&#160;</td><td class="mdescRight">function to do different things according to the chosen modality  <a href="server_8cpp.html#a7b72b8027af553a6888634292a511716">More...</a><br /></td></tr>
<tr class="separator:a7b72b8027af553a6888634292a511716"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22ca43833590a06590952a071fcc1eb6"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8cpp.html#a22ca43833590a06590952a071fcc1eb6">computeMinDist</a> (double scan[], int size)</td></tr>
<tr class="memdesc:a22ca43833590a06590952a071fcc1eb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">function to compute the minimum element of an array  <a href="server_8cpp.html#a22ca43833590a06590952a071fcc1eb6">More...</a><br /></td></tr>
<tr class="separator:a22ca43833590a06590952a071fcc1eb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9068346b72f904d03e88dcdc1f977f9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8cpp.html#ab9068346b72f904d03e88dcdc1f977f9">collisionAvoidenceCallback</a> (const sensor_msgs::LaserScan::ConstPtr &amp;msg)</td></tr>
<tr class="memdesc:ab9068346b72f904d03e88dcdc1f977f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">function to check the obstacles' distances and in case of possible collisions it corrects the trajectory  <a href="server_8cpp.html#ab9068346b72f904d03e88dcdc1f977f9">More...</a><br /></td></tr>
<tr class="separator:ab9068346b72f904d03e88dcdc1f977f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4bb3cef07a8e8ef8ff6c201cde8d105"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8cpp.html#aa4bb3cef07a8e8ef8ff6c201cde8d105">serviceCallback</a> (final_assignment::User::Request &amp;req, final_assignment::User::Response &amp;res)</td></tr>
<tr class="memdesc:aa4bb3cef07a8e8ef8ff6c201cde8d105"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to direct the code to the modality chosen.  <a href="server_8cpp.html#aa4bb3cef07a8e8ef8ff6c201cde8d105">More...</a><br /></td></tr>
<tr class="separator:aa4bb3cef07a8e8ef8ff6c201cde8d105"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a> (int argc, char **argv)</td></tr>
<tr class="memdesc:a3c04138a5bfe5d72780bb7e82a18e627"><td class="mdescLeft">&#160;</td><td class="mdescRight">main function  <a href="server_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627">More...</a><br /></td></tr>
<tr class="separator:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ae057aae7fbba2a4cef62321020305295"><td class="memItemLeft" align="right" valign="top"><a id="ae057aae7fbba2a4cef62321020305295"></a>
ros::Publisher&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8cpp.html#ae057aae7fbba2a4cef62321020305295">pub_goal</a></td></tr>
<tr class="memdesc:ae057aae7fbba2a4cef62321020305295"><td class="mdescLeft">&#160;</td><td class="mdescRight">Global publisher for the goal. <br /></td></tr>
<tr class="separator:ae057aae7fbba2a4cef62321020305295"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0664a23d360105ec3d579965d5b7631"><td class="memItemLeft" align="right" valign="top"><a id="ac0664a23d360105ec3d579965d5b7631"></a>
ros::Publisher&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8cpp.html#ac0664a23d360105ec3d579965d5b7631">pub_vel</a></td></tr>
<tr class="memdesc:ac0664a23d360105ec3d579965d5b7631"><td class="mdescLeft">&#160;</td><td class="mdescRight">Global publisher for the velocity. <br /></td></tr>
<tr class="separator:ac0664a23d360105ec3d579965d5b7631"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33cbe548b1e0f6b08bbe754f53af458c"><td class="memItemLeft" align="right" valign="top"><a id="a33cbe548b1e0f6b08bbe754f53af458c"></a>
ros::Publisher&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8cpp.html#a33cbe548b1e0f6b08bbe754f53af458c">pub_cancel</a></td></tr>
<tr class="memdesc:a33cbe548b1e0f6b08bbe754f53af458c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Global publisher for cancelling the goal. <br /></td></tr>
<tr class="separator:a33cbe548b1e0f6b08bbe754f53af458c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a210eba25678ef8991de789c0aaf16d"><td class="memItemLeft" align="right" valign="top"><a id="a6a210eba25678ef8991de789c0aaf16d"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8cpp.html#a6a210eba25678ef8991de789c0aaf16d">manDrive</a> = false</td></tr>
<tr class="memdesc:a6a210eba25678ef8991de789c0aaf16d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Global bool variable for enabling 2nd modality. <br /></td></tr>
<tr class="separator:a6a210eba25678ef8991de789c0aaf16d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a396c6848bf9f59e8a7a0892b9beb53cc"><td class="memItemLeft" align="right" valign="top"><a id="a396c6848bf9f59e8a7a0892b9beb53cc"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8cpp.html#a396c6848bf9f59e8a7a0892b9beb53cc">collisionAvoidence</a> = false</td></tr>
<tr class="memdesc:a396c6848bf9f59e8a7a0892b9beb53cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Global bool variable for enabling 3rd modality. <br /></td></tr>
<tr class="separator:a396c6848bf9f59e8a7a0892b9beb53cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1292e042df88fd7461a4dc998912f6d1"><td class="memItemLeft" align="right" valign="top"><a id="a1292e042df88fd7461a4dc998912f6d1"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8cpp.html#a1292e042df88fd7461a4dc998912f6d1">goal</a> = false</td></tr>
<tr class="memdesc:a1292e042df88fd7461a4dc998912f6d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Global bool variable to store the status of the goal. <br /></td></tr>
<tr class="separator:a1292e042df88fd7461a4dc998912f6d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a365207e7fb07cd4db79d049a1ded2244"><td class="memItemLeft" align="right" valign="top"><a id="a365207e7fb07cd4db79d049a1ded2244"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8cpp.html#a365207e7fb07cd4db79d049a1ded2244">target_x</a></td></tr>
<tr class="memdesc:a365207e7fb07cd4db79d049a1ded2244"><td class="mdescLeft">&#160;</td><td class="mdescRight">global variable for storing the x coordinate of goal chosen by the user <br /></td></tr>
<tr class="separator:a365207e7fb07cd4db79d049a1ded2244"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65965c691346cf996ec91c2cd057ae31"><td class="memItemLeft" align="right" valign="top"><a id="a65965c691346cf996ec91c2cd057ae31"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8cpp.html#a65965c691346cf996ec91c2cd057ae31">target_y</a></td></tr>
<tr class="memdesc:a65965c691346cf996ec91c2cd057ae31"><td class="mdescLeft">&#160;</td><td class="mdescRight">global variable for storing the y coordinate of goal chosen by the user <br /></td></tr>
<tr class="separator:a65965c691346cf996ec91c2cd057ae31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd0d68c6d31ff249f3ae8662162663c3"><td class="memItemLeft" align="right" valign="top"><a id="afd0d68c6d31ff249f3ae8662162663c3"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8cpp.html#afd0d68c6d31ff249f3ae8662162663c3">id</a> = &quot;&quot;</td></tr>
<tr class="memdesc:afd0d68c6d31ff249f3ae8662162663c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Global variable for the id of the goal. <br /></td></tr>
<tr class="separator:afd0d68c6d31ff249f3ae8662162663c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58b913289dd9ed4f654dfbd74c11b790"><td class="memItemLeft" align="right" valign="top"><a id="a58b913289dd9ed4f654dfbd74c11b790"></a>
geometry_msgs::Twist&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8cpp.html#a58b913289dd9ed4f654dfbd74c11b790">my_vel</a></td></tr>
<tr class="memdesc:a58b913289dd9ed4f654dfbd74c11b790"><td class="mdescLeft">&#160;</td><td class="mdescRight">Velocity to be checked by the collision avoidence before being published. <br /></td></tr>
<tr class="separator:a58b913289dd9ed4f654dfbd74c11b790"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc2407a897aa2b5d1d9d65f6728027dd"><td class="memItemLeft" align="right" valign="top"><a id="abc2407a897aa2b5d1d9d65f6728027dd"></a>
actionlib_msgs::GoalID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8cpp.html#abc2407a897aa2b5d1d9d65f6728027dd">canc_goal</a></td></tr>
<tr class="memdesc:abc2407a897aa2b5d1d9d65f6728027dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">message for cancelling a goal when it is reached <br /></td></tr>
<tr class="separator:abc2407a897aa2b5d1d9d65f6728027dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>server for the execution of the three modalities </p>
<dl class="section author"><dt>Author</dt><dd>Parisi Daniele Martino </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.0 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>27/02/2022</dd></dl>
<p>Subscribes to:<br  />
 /new_cmd_vel it contains the current velocity of the robot /scan it contains the current distances from the obstacles /move_base/feedback it contains the current position of the robot</p>
<p>Publishes to:<br  />
 /move_base/goal /cmd_vel /move_base/cancel</p>
<p>services:<br  />
 /user</p>
<p>Description:</p>
<p>The code implements the logic to execute one among 3 different modality chosen by the user for driving the robot among a virtual environment </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a951b87d8cfc4da25e89b3492508bfe24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a951b87d8cfc4da25e89b3492508bfe24">&#9670;&nbsp;</a></span>cancelGoal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool cancelGoal </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>function to cancell a goal if it is reached </p>
<dl class="section return"><dt>Returns</dt><dd>true if the goal is cancelled, otherwise false</dd></dl>
<p>The function uses the status of the global variable 'goal' for cancelling the goal </p>

</div>
</div>
<a id="ab9068346b72f904d03e88dcdc1f977f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9068346b72f904d03e88dcdc1f977f9">&#9670;&nbsp;</a></span>collisionAvoidenceCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void collisionAvoidenceCallback </td>
          <td>(</td>
          <td class="paramtype">const sensor_msgs::LaserScan::ConstPtr &amp;&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>function to check the obstacles' distances and in case of possible collisions it corrects the trajectory </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>laser scanner's ranges</td></tr>
  </table>
  </dd>
</dl>
<p>This function is capable of getting the laser scanner's data, dividing them into different parts, that correspond to the distances from left, front-left, front, front right and right. According to the distances, if we can have possible collisions the velocities are modified. </p>

</div>
</div>
<a id="a22ca43833590a06590952a071fcc1eb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22ca43833590a06590952a071fcc1eb6">&#9670;&nbsp;</a></span>computeMinDist()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double computeMinDist </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>scan</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>function to compute the minimum element of an array </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">scan[]</td><td>the array </td></tr>
    <tr><td class="paramname">size</td><td>the dimension of the array</td></tr>
  </table>
  </dd>
</dl>
<p>Function for computing the min element of a given array and its size </p>

</div>
</div>
<a id="ab1422f0d741942044a0f4fde5993d85e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1422f0d741942044a0f4fde5993d85e">&#9670;&nbsp;</a></span>currentPositionCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void currentPositionCallback </td>
          <td>(</td>
          <td class="paramtype">const move_base_msgs::MoveBaseActionFeedback::ConstPtr &amp;&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>function to compute the distance from the goal </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>robot's coordinates and goal's status</td></tr>
  </table>
  </dd>
</dl>
<p>The function calculate the distance of the robot from the goal and if the distance is less than or equal to a threshold the current coal is cancelled </p>

</div>
</div>
<a id="a7b72b8027af553a6888634292a511716"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b72b8027af553a6888634292a511716">&#9670;&nbsp;</a></span>getVelCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void getVelCallback </td>
          <td>(</td>
          <td class="paramtype">const geometry_msgs::Twist::ConstPtr &amp;&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>function to do different things according to the chosen modality </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>linear and angular velocities of the robot</td></tr>
  </table>
  </dd>
</dl>
<p>Callback function called whenever the teleop twist keyboard want to change the robot velocity If the robot isn't neither in manual driving nor in collision avoidence modality the message is ignored If the robot is in manual driving modality the message is sent to the cmd_vel topic If the robot is in collision avoidence modality the message is saved in a global variable (my_vel) and it will be corrected by the collision avoidence function before being published </p>

</div>
</div>
<a id="a3c04138a5bfe5d72780bb7e82a18e627"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c04138a5bfe5d72780bb7e82a18e627">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>main function </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">argc</td><td></td></tr>
    <tr><td class="paramname">argv</td><td>Function for publishing, subscribing to some topics or to define the service for implement the chosen modality </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa4bb3cef07a8e8ef8ff6c201cde8d105"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4bb3cef07a8e8ef8ff6c201cde8d105">&#9670;&nbsp;</a></span>serviceCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool serviceCallback </td>
          <td>(</td>
          <td class="paramtype">final_assignment::User::Request &amp;&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final_assignment::User::Response &amp;&#160;</td>
          <td class="paramname"><em>res</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to direct the code to the modality chosen. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">req</td><td></td></tr>
    <tr><td class="paramname">res</td><td>This function is capable of direct the code through the modality chosen by the user. I do this with a list of 'if' statements and in each body of the 'if' I set the value of the boolean global variables according to the chosen modality </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
